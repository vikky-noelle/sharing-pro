"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const fs_1 = require("fs");
const path_1 = require("path");
class FileSystemHost {
    constructor(_root) {
        this._root = _root;
    }
    listDirectory(path) {
        let files = fs_1.readdirSync(path_1.join(this._root, path));
        if (path == '/') {
            files = files
                .filter(path => path !== '.git')
                .filter(path => path !== 'node_modules');
        }
        // Add the path as root is part of the file list.
        return files;
    }
    isDirectory(path) {
        return fs_1.statSync(path_1.join(this._root, path)).isDirectory();
    }
    readFile(path) {
        return fs_1.readFileSync(path_1.join(this._root, path));
    }
    join(path1, path2) {
        return path_1.join(path1, path2);
    }
}
exports.FileSystemHost = FileSystemHost;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsZS1zeXN0ZW0taG9zdC5qcyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvaGFuc2wvU291cmNlcy9kZXZraXQvIiwic291cmNlcyI6WyJwYWNrYWdlcy9hbmd1bGFyX2RldmtpdC9zY2hlbWF0aWNzX3Rvb2xzL3NyYy9maWxlLXN5c3RlbS1ob3N0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBUUEsMkJBQXVEO0FBQ3ZELCtCQUEwQjtBQUUxQjtJQUNFLFlBQW9CLEtBQWE7UUFBYixVQUFLLEdBQUwsS0FBSyxDQUFRO0lBQUcsQ0FBQztJQUVyQyxhQUFhLENBQUMsSUFBWTtRQUN4QixJQUFJLEtBQUssR0FBRyxnQkFBVyxDQUFDLFdBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDaEQsRUFBRSxDQUFDLENBQUMsSUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDaEIsS0FBSyxHQUFHLEtBQUs7aUJBRVYsTUFBTSxDQUFDLElBQUksSUFBSSxJQUFJLEtBQUssTUFBTSxDQUFDO2lCQUUvQixNQUFNLENBQUMsSUFBSSxJQUFJLElBQUksS0FBSyxjQUFjLENBQUMsQ0FBQztRQUM3QyxDQUFDO1FBQ0QsaURBQWlEO1FBQ2pELE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDZixDQUFDO0lBQ0QsV0FBVyxDQUFDLElBQVk7UUFDdEIsTUFBTSxDQUFDLGFBQVEsQ0FBQyxXQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3hELENBQUM7SUFDRCxRQUFRLENBQUMsSUFBWTtRQUNuQixNQUFNLENBQUMsaUJBQVksQ0FBQyxXQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQzlDLENBQUM7SUFFRCxJQUFJLENBQUMsS0FBYSxFQUFFLEtBQWE7UUFDL0IsTUFBTSxDQUFDLFdBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDNUIsQ0FBQztDQUNGO0FBekJELHdDQXlCQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmltcG9ydCB7RmlsZVN5c3RlbVRyZWVIb3N0fSBmcm9tICdAYW5ndWxhci1kZXZraXQvc2NoZW1hdGljcyc7XG5pbXBvcnQge3JlYWRGaWxlU3luYywgcmVhZGRpclN5bmMsIHN0YXRTeW5jfSBmcm9tICdmcyc7XG5pbXBvcnQge2pvaW59IGZyb20gJ3BhdGgnO1xuXG5leHBvcnQgY2xhc3MgRmlsZVN5c3RlbUhvc3QgaW1wbGVtZW50cyBGaWxlU3lzdGVtVHJlZUhvc3Qge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9yb290OiBzdHJpbmcpIHt9XG5cbiAgbGlzdERpcmVjdG9yeShwYXRoOiBzdHJpbmcpIHtcbiAgICBsZXQgZmlsZXMgPSByZWFkZGlyU3luYyhqb2luKHRoaXMuX3Jvb3QsIHBhdGgpKTtcbiAgICBpZiAocGF0aCA9PSAnLycpIHtcbiAgICAgIGZpbGVzID0gZmlsZXNcbiAgICAgIC8vIFJlbW92ZSAuZ2l0LlxuICAgICAgICAuZmlsdGVyKHBhdGggPT4gcGF0aCAhPT0gJy5naXQnKVxuICAgICAgICAvLyBSZW1vdmUgbm9kZV9tb2R1bGVzLlxuICAgICAgICAuZmlsdGVyKHBhdGggPT4gcGF0aCAhPT0gJ25vZGVfbW9kdWxlcycpO1xuICAgIH1cbiAgICAvLyBBZGQgdGhlIHBhdGggYXMgcm9vdCBpcyBwYXJ0IG9mIHRoZSBmaWxlIGxpc3QuXG4gICAgcmV0dXJuIGZpbGVzO1xuICB9XG4gIGlzRGlyZWN0b3J5KHBhdGg6IHN0cmluZykge1xuICAgIHJldHVybiBzdGF0U3luYyhqb2luKHRoaXMuX3Jvb3QsIHBhdGgpKS5pc0RpcmVjdG9yeSgpO1xuICB9XG4gIHJlYWRGaWxlKHBhdGg6IHN0cmluZykge1xuICAgIHJldHVybiByZWFkRmlsZVN5bmMoam9pbih0aGlzLl9yb290LCBwYXRoKSk7XG4gIH1cblxuICBqb2luKHBhdGgxOiBzdHJpbmcsIHBhdGgyOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gam9pbihwYXRoMSwgcGF0aDIpO1xuICB9XG59XG4iXX0=