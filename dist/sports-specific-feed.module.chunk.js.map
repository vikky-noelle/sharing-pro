{"version":3,"sources":["/Users/sportssocialweb/Desktop/SportSocialWebsite/src/app/sports-specific-feed/sports-specific-feed.component.html","/Users/sportssocialweb/Desktop/SportSocialWebsite/src/app/sports-specific-feed/sports-specific-feed.component.ts","/Users/sportssocialweb/Desktop/SportSocialWebsite/src/app/sports-specific-feed/sports-specific-feed.module.ts","/Users/sportssocialweb/Desktop/SportSocialWebsite/src/app/sports-specific-feed/sports.router.ts"],"names":[],"mappings":"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","file":"sports-specific-feed.module.chunk.js","sourcesContent":["<sports-social-header></sports-social-header>\n<sports-social-carousel></sports-social-carousel>\n<sports-social-navigation-bar></sports-social-navigation-bar>\n<ng-masonry-grid  \n    [masonryOptions]=\"{ transitionDuration: '0.4s', gutter: 2 }\"\n    [useAnimation]=\"true\"\n    [useImagesLoaded]=\"true\">\n    <img class=\"spinner\" src=\"/assets/images/sports-social-loading.gif\" *ngIf = \"globalArena.length === 0\" alt=\"\">\n    \n    <ng-container *ngIf = \"globalArena.length > 0\">\n      <ng-masonry-grid-item  *ngFor = \"let feed of globalArena; let i = index\">\n        <ng-container *ngIf = \"feed.type === 1\">\n            <h1 class=\"type\"> \n              <a routerLink=\"/OpenArena\">Open Arena >></a>  \n            </h1>\n              <sports-social-match-card class=\"cards\"\n                [eventId] = \"feed.eventId\"\n                [creatorImage] = \"feed.creatorImage\"\n                [creatorName] = \"feed.creatorName\"\n                [doerId] = \"feed.doerId\"\n                [doerName] = \"feed.doerName\"\n                [doerPic] = \"feed.doerPic\"\n                [matchImage] = \"feed.matchImage\"\n                [matchText] = \"feed.matchText\"\n                [joineeCount] = \"feed.joineeCount\"\n                [commentCount] = \"feed.commentCount\"\n                [promoteCount] = \"feed.promoteCount\"\n                [watchCount] = \"feed.watchCount\"\n                [matchDate] = \"feed.matchDate\"\n                [activityDate] = \"feed.activityDate\"\n                [venueName] = \"feed.venueName\"\n                [gameName] = \"feed.gameName\"\n                [activityName] = \"feed.activityName\"\n                [restrictionCount] = \"feed.restrictionCount\"   #matchCard>\n              </sports-social-match-card>\n        </ng-container>\n        <ng-container *ngIf = \"feed.type === 0\">\n            <h1 class=\"type\">\n              <a routerLink=\"/AroundTheWorld\">Around The World >></a> \n            </h1>\n            <sports-social-news-card class=\"cards\"\n              [newsId] = \"feed.newsId\"\n              [sourceName]= \"feed.source\"\n              [sourceImage] = \"feed.sourceImage\"\n              [newsImage] = \"feed.newsImage\"\n              [title] = \"feed.title\"\n              [desc] = \"feed.desc\"\n              [url] = \"feed.url\"\n              [insertedDate] = \"feed.insertedDate\"\n              [likeCount] = \"feed.likeCount\"\n              [shareCount] = \"feed.shareCount\"\n              [commentCount] = \"feed.commentCount\"\n              [publishedAt] = \"feed.publishedAt\">\n            </sports-social-news-card>\n        </ng-container>\n      </ng-masonry-grid-item>\n    </ng-container>\n    \n</ng-masonry-grid>\n<sports-social-footer></sports-social-footer>\n\n  \n\n\n// WEBPACK FOOTER //\n// /Users/sportssocialweb/Desktop/SportSocialWebsite/src/app/sports-specific-feed/sports-specific-feed.component.html","import { Component, OnInit, ViewEncapsulation, HostListener, Renderer2, OnDestroy, NgZone } from '@angular/core';\nimport { PostService } from '../shared/services/post.service';\nimport { GetService } from '../shared/services/get.service';\nimport { LocationService } from '../shared/services/location.service';\nimport { ActivatedRoute, Router, NavigationEnd, ActivationEnd, ActivatedRouteSnapshot } from '@angular/router';\nimport { Masonry, MasonryGridItem } from 'ng-masonry-grid';\nimport { ISubscription } from 'rxjs/Subscription';\nimport { MatchDataService } from '../shared/services/match-data.service';\nimport { NewsService } from '../shared/services/news.service';\n\n@Component({\n  selector: 'sports-social-sports-specific-feed',\n  templateUrl: './sports-specific-feed.component.html',\n  styleUrls: ['./sports-specific-feed.component.css', '../../../node_modules/ng-masonry-grid/ng-masonry-grid.css'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class SportsSpecificFeedComponent implements OnInit, OnDestroy {\n\n  globalArena = [];\n  prevPageNo: number = 0;\n  nextPageNo: number = 0;\n  gameName: string;\n  gameId: number;\n  urlChanged = false;\n\n  _masonry: Masonry;\n  private _removeAllSubscription: ISubscription;\n  private _removeItemSubscription: ISubscription;\n  private _removeFirstItemSubscription: ISubscription;\n\n  Sports: { id: number, title: string}[]= [\n    {id: 0, title: 'Popular'},\n    {id: 17, title: 'Cricket'},\n    {id: 23, title: 'Football'},\n    {id: 6, title: 'Basketball'},\n    {id: 36, title: 'Lawn Tennis'},\n    {id: 5, title: 'Badminton'},\n    {id: 29, title: 'Hockey'},\n    {id: 56, title: 'Table Tennis'},\n    {id: 60, title: 'Volleyball'}\n  ];\n\n  constructor(\n    private matchData: MatchDataService,\n    private newsData: NewsService,\n    private renderer: Renderer2,\n    private activeRoute: ActivatedRoute,\n    private router: Router,\n    private zone: NgZone,\n  ) { }\n  reloadPage() {\n    this.zone.runOutsideAngular(() => {\n        location.reload();\n    });\n  }\nglobalFeed( ) {\n  \n  this.activeRoute.params.subscribe(\n    (params) => {\n      if ( this.gameName !== params.sport && this.gameName !== undefined) {\n        // this.urlChanged = true;\n        console.log(\"true\", this.gameName, params.sport)\n        this.reloadPage();\n      }\n      this.gameName = params.sport;\n      this.gameId = this.Sports.find((sport) => {\n        return sport.title === this.gameName;\n      }).id;\n      console.log(this.gameName, this.gameId);\n      const matchPomise = this.matchData.globalMatchFeed( this.nextPageNo, this.gameId );\n      const newsPromise =  this.newsData.globalNewsFeed( this.nextPageNo, this.gameName.toLowerCase());\n      Promise.all([matchPomise, newsPromise]).then( (data) => {\n        console.log(data);\n        this.globalArena = this.globalArena.concat(data['0']).concat(data['1']);\n        console.log(this.globalArena);\n      }).catch( (err) => {\n        console.log('err', err);\n      });\n    }\n  );\n}\n  nextPage(pageNo) {\n    this.prevPageNo = pageNo;\n    this.globalFeed();\n  }\n\n  @HostListener('window:scroll', ['$event'])onWindowScroll(event) {\n    this.nextPageNo = Math.floor(scrollY / 2400);\n\n    if (this.nextPageNo > 0 && this.prevPageNo < this.nextPageNo ) {\n      this.nextPage(this.nextPageNo);\n      console.log('nextPage', this.nextPageNo, event);\n\n    }\n  }\n\n  ngOnInit() {\n    this.globalFeed();\n  }\n\n  ngOnDestroy() {\n    console.log('destroy');\n    if (this._masonry) {\n      this._removeAllSubscription.unsubscribe();\n      this._removeItemSubscription.unsubscribe();\n      this._removeFirstItemSubscription.unsubscribe();\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/sportssocialweb/Desktop/SportSocialWebsite/src/app/sports-specific-feed/sports-specific-feed.component.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SportsRouter } from './sports.router';\nimport { SportsSpecificFeedComponent } from './sports-specific-feed.component';\nimport { NewsCardModule } from '../cards/news-card/news-card.module';\nimport { MatchCardModule } from '../cards/match-card/match-card.module';\nimport { LiveMatchCardModule } from '../cards/live-match-card/live-match-card.module';\nimport { HeaderModule } from '../header/header.module';\nimport { CarouselModule } from '../carousel/carousel.module';\nimport { NavigationBarModule } from '../navigation-bar/navigation-bar.module';\nimport { FooterModule } from '../footer/footer.module';\n\nimport { NgMasonryGridModule } from 'ng-masonry-grid';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SportsRouter,\n    NewsCardModule,\n    MatchCardModule,\n    LiveMatchCardModule,\n    HeaderModule,\n    CarouselModule,\n    NavigationBarModule,\n    FooterModule,\n    NgMasonryGridModule\n  ],\n  declarations: [\n    SportsSpecificFeedComponent\n  ]\n})\nexport class SportsSpecificFeedModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/sportssocialweb/Desktop/SportSocialWebsite/src/app/sports-specific-feed/sports-specific-feed.module.ts","import { Routes, RouterModule } from '@angular/router';\nimport { SportsSpecificFeedComponent } from './sports-specific-feed.component';\nimport { ModuleWithProviders } from '@angular/core';\nimport { OpenMatchCardComponent } from '../open-cards/open-match-card/open-match-card.component';\nimport { OpenNewsCardComponent } from '../open-cards/open-news-card/open-news-card.component';\nimport { GlobalMatchFeedComponent } from '../global-feed/global-match-feed/global-match-feed.component';\nconst Sports_Router: Routes = [\n    {\n        path: '',\n        component: SportsSpecificFeedComponent,\n    }\n];\n\nexport const SportsRouter: ModuleWithProviders = RouterModule.forChild(Sports_Router);\n\n\n\n// WEBPACK FOOTER //\n// /Users/sportssocialweb/Desktop/SportSocialWebsite/src/app/sports-specific-feed/sports.router.ts"],"sourceRoot":"webpack:///"}