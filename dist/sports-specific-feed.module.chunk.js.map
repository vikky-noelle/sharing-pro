{"version":3,"sources":["C:/Users/Shaurya/Desktop/SportSocialWebsite/src/app/sports-specific-feed/sports-specific-feed.component.css","C:/Users/Shaurya/Desktop/SportSocialWebsite/src/app/sports-specific-feed/sports-specific-feed.component.html","C:/Users/Shaurya/Desktop/SportSocialWebsite/src/app/sports-specific-feed/sports-specific-feed.component.ts","C:/Users/Shaurya/Desktop/SportSocialWebsite/src/app/sports-specific-feed/sports-specific-feed.module.ts","C:/Users/Shaurya/Desktop/SportSocialWebsite/src/app/sports-specific-feed/sports.router.ts"],"names":[],"mappings":"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","file":"sports-specific-feed.module.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/Shaurya/Desktop/SportSocialWebsite/src/app/sports-specific-feed/sports-specific-feed.component.css\n// module id = ../../../../../src/app/sports-specific-feed/sports-specific-feed.component.css\n// module chunks = sports-specific-feed.module","module.exports = \"<sports-social-header></sports-social-header>\\r\\n<sports-social-carousel></sports-social-carousel>\\r\\n<sports-social-navigation-bar></sports-social-navigation-bar>\\r\\n<ng-masonry-grid  \\r\\n    [masonryOptions]=\\\"{ transitionDuration: '0.4s', gutter: 2 }\\\"\\r\\n    [useAnimation]=\\\"true\\\"\\r\\n    [useImagesLoaded]=\\\"true\\\">\\r\\n    <img class=\\\"spinner\\\" src=\\\"/assets/images/sports-social-loading.gif\\\" *ngIf = \\\"globalArena.length === 0\\\" alt=\\\"\\\">\\r\\n    \\r\\n    <ng-container *ngIf = \\\"globalArena.length > 0\\\">\\r\\n      <ng-masonry-grid-item  *ngFor = \\\"let feed of globalArena; let i = index\\\">\\r\\n        <ng-container *ngIf = \\\"feed.type === 1\\\">\\r\\n            <h1 class=\\\"type\\\"> \\r\\n              <a routerLink=\\\"/OpenArena\\\">Open Arena >></a>  \\r\\n            </h1>\\r\\n              <sports-social-match-card class=\\\"cards\\\"\\r\\n                [eventId] = \\\"feed.eventId\\\"\\r\\n                [creatorImage] = \\\"feed.creatorImage\\\"\\r\\n                [creatorName] = \\\"feed.creatorName\\\"\\r\\n                [doerId] = \\\"feed.doerId\\\"\\r\\n                [doerName] = \\\"feed.doerName\\\"\\r\\n                [doerPic] = \\\"feed.doerPic\\\"\\r\\n                [matchImage] = \\\"feed.matchImage\\\"\\r\\n                [matchText] = \\\"feed.matchText\\\"\\r\\n                [joineeCount] = \\\"feed.joineeCount\\\"\\r\\n                [commentCount] = \\\"feed.commentCount\\\"\\r\\n                [promoteCount] = \\\"feed.promoteCount\\\"\\r\\n                [watchCount] = \\\"feed.watchCount\\\"\\r\\n                [matchDate] = \\\"feed.matchDate\\\"\\r\\n                [activityDate] = \\\"feed.activityDate\\\"\\r\\n                [venueName] = \\\"feed.venueName\\\"\\r\\n                [gameName] = \\\"feed.gameName\\\"\\r\\n                [activityName] = \\\"feed.activityName\\\"\\r\\n                [restrictionCount] = \\\"feed.restrictionCount\\\"   #matchCard>\\r\\n              </sports-social-match-card>\\r\\n        </ng-container>\\r\\n        <ng-container *ngIf = \\\"feed.type === 0\\\">\\r\\n            <h1 class=\\\"type\\\">\\r\\n              <a routerLink=\\\"/AroundTheWorld\\\">Around The World >></a> \\r\\n            </h1>\\r\\n            <sports-social-news-card class=\\\"cards\\\"\\r\\n              [newsId] = \\\"feed.newsId\\\"\\r\\n              [sourceName]= \\\"feed.source\\\"\\r\\n              [sourceImage] = \\\"feed.sourceImage\\\"\\r\\n              [newsImage] = \\\"feed.newsImage\\\"\\r\\n              [title] = \\\"feed.title\\\"\\r\\n              [desc] = \\\"feed.desc\\\"\\r\\n              [url] = \\\"feed.url\\\"\\r\\n              [insertedDate] = \\\"feed.insertedDate\\\"\\r\\n              [likeCount] = \\\"feed.likeCount\\\"\\r\\n              [shareCount] = \\\"feed.shareCount\\\"\\r\\n              [commentCount] = \\\"feed.commentCount\\\"\\r\\n              [publishedAt] = \\\"feed.publishedAt\\\">\\r\\n            </sports-social-news-card>\\r\\n        </ng-container>\\r\\n      </ng-masonry-grid-item>\\r\\n    </ng-container>\\r\\n    \\r\\n</ng-masonry-grid>\\r\\n<sports-social-footer></sports-social-footer>\\r\\n\\r\\n  \"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/Shaurya/Desktop/SportSocialWebsite/src/app/sports-specific-feed/sports-specific-feed.component.html\n// module id = ../../../../../src/app/sports-specific-feed/sports-specific-feed.component.html\n// module chunks = sports-specific-feed.module","import { Component, OnInit, ViewEncapsulation, HostListener, Renderer2, OnDestroy, NgZone } from '@angular/core';\r\nimport { PostService } from '../shared/services/post.service';\r\nimport { GetService } from '../shared/services/get.service';\r\nimport { LocationService } from '../shared/services/location.service';\r\nimport { ActivatedRoute, Router, NavigationEnd, ActivationEnd, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { Masonry, MasonryGridItem } from 'ng-masonry-grid';\r\nimport { ISubscription } from 'rxjs/Subscription';\r\nimport { MatchDataService } from '../shared/services/match-data.service';\r\nimport { NewsService } from '../shared/services/news.service';\r\n\r\n@Component({\r\n  selector: 'sports-social-sports-specific-feed',\r\n  templateUrl: './sports-specific-feed.component.html',\r\n  styleUrls: ['./sports-specific-feed.component.css', '../../../node_modules/ng-masonry-grid/ng-masonry-grid.css'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class SportsSpecificFeedComponent implements OnInit, OnDestroy {\r\n\r\n  globalArena = [];\r\n  prevPageNo: number = 0;\r\n  nextPageNo: number = 0;\r\n  gameName: string;\r\n  gameId: number;\r\n  urlChanged = false;\r\n\r\n  _masonry: Masonry;\r\n  private _removeAllSubscription: ISubscription;\r\n  private _removeItemSubscription: ISubscription;\r\n  private _removeFirstItemSubscription: ISubscription;\r\n\r\n  Sports: { id: number, title: string}[]= [\r\n    {id: 0, title: 'Popular'},\r\n    {id: 17, title: 'Cricket'},\r\n    {id: 23, title: 'Football'},\r\n    {id: 6, title: 'Basketball'},\r\n    {id: 36, title: 'Lawn Tennis'},\r\n    {id: 5, title: 'Badminton'},\r\n    {id: 29, title: 'Hockey'},\r\n    {id: 56, title: 'Table Tennis'},\r\n    {id: 60, title: 'Volleyball'}\r\n  ];\r\n\r\n  constructor(\r\n    private matchData: MatchDataService,\r\n    private newsData: NewsService,\r\n    private renderer: Renderer2,\r\n    private activeRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private zone: NgZone,\r\n  ) { }\r\n  reloadPage() {\r\n    this.zone.runOutsideAngular(() => {\r\n        location.reload();\r\n    });\r\n  }\r\nglobalFeed( ) {\r\n  \r\n  this.activeRoute.params.subscribe(\r\n    (params) => {\r\n      if ( this.gameName !== params.sport && this.gameName !== undefined) {\r\n        // this.urlChanged = true;\r\n        console.log(\"true\", this.gameName, params.sport)\r\n        this.reloadPage();\r\n      }\r\n      this.gameName = params.sport;\r\n      this.gameId = this.Sports.find((sport) => {\r\n        return sport.title === this.gameName;\r\n      }).id;\r\n      console.log(this.gameName, this.gameId);\r\n      const matchPomise = this.matchData.globalMatchFeed( this.nextPageNo, this.gameId );\r\n      const newsPromise =  this.newsData.globalNewsFeed( this.nextPageNo, this.gameName.toLowerCase());\r\n      Promise.all([matchPomise, newsPromise]).then( (data) => {\r\n        console.log(data);\r\n        this.globalArena = this.globalArena.concat(data['0']).concat(data['1']);\r\n        console.log(this.globalArena);\r\n      }).catch( (err) => {\r\n        console.log('err', err);\r\n      });\r\n    }\r\n  );\r\n}\r\n  nextPage(pageNo) {\r\n    this.prevPageNo = pageNo;\r\n    this.globalFeed();\r\n  }\r\n\r\n  @HostListener('window:scroll', ['$event'])onWindowScroll(event) {\r\n    this.nextPageNo = Math.floor(scrollY / 2400);\r\n\r\n    if (this.nextPageNo > 0 && this.prevPageNo < this.nextPageNo ) {\r\n      this.nextPage(this.nextPageNo);\r\n      console.log('nextPage', this.nextPageNo, event);\r\n\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.globalFeed();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    console.log('destroy');\r\n    if (this._masonry) {\r\n      this._removeAllSubscription.unsubscribe();\r\n      this._removeItemSubscription.unsubscribe();\r\n      this._removeFirstItemSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/Shaurya/Desktop/SportSocialWebsite/src/app/sports-specific-feed/sports-specific-feed.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SportsRouter } from './sports.router';\r\nimport { SportsSpecificFeedComponent } from './sports-specific-feed.component';\r\nimport { NewsCardModule } from '../cards/news-card/news-card.module';\r\nimport { MatchCardModule } from '../cards/match-card/match-card.module';\r\nimport { LiveMatchCardModule } from '../cards/live-match-card/live-match-card.module';\r\nimport { HeaderModule } from '../header/header.module';\r\nimport { CarouselModule } from '../carousel/carousel.module';\r\nimport { NavigationBarModule } from '../navigation-bar/navigation-bar.module';\r\nimport { FooterModule } from '../footer/footer.module';\r\n\r\nimport { NgMasonryGridModule } from 'ng-masonry-grid';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    SportsRouter,\r\n    NewsCardModule,\r\n    MatchCardModule,\r\n    LiveMatchCardModule,\r\n    HeaderModule,\r\n    CarouselModule,\r\n    NavigationBarModule,\r\n    FooterModule,\r\n    NgMasonryGridModule\r\n  ],\r\n  declarations: [\r\n    SportsSpecificFeedComponent\r\n  ]\r\n})\r\nexport class SportsSpecificFeedModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/Shaurya/Desktop/SportSocialWebsite/src/app/sports-specific-feed/sports-specific-feed.module.ts","import { Routes, RouterModule } from '@angular/router';\r\nimport { SportsSpecificFeedComponent } from './sports-specific-feed.component';\r\nimport { ModuleWithProviders } from '@angular/core';\r\nimport { OpenMatchCardComponent } from '../open-cards/open-match-card/open-match-card.component';\r\nimport { OpenNewsCardComponent } from '../open-cards/open-news-card/open-news-card.component';\r\nimport { GlobalMatchFeedComponent } from '../global-feed/global-match-feed/global-match-feed.component';\r\nconst Sports_Router: Routes = [\r\n    {\r\n        path: '',\r\n        component: SportsSpecificFeedComponent,\r\n    }\r\n];\r\n\r\nexport const SportsRouter: ModuleWithProviders = RouterModule.forChild(Sports_Router);\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/Shaurya/Desktop/SportSocialWebsite/src/app/sports-specific-feed/sports.router.ts"],"sourceRoot":"webpack:///"}